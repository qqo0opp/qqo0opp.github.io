(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{1709:function(t,e,r){},1710:function(t,e,r){},1711:function(t,e,r){},1712:function(t,e,r){},1889:function(t,e,r){"use strict";r(1709)},1890:function(t,e,r){},1891:function(t,e,r){"use strict";r(1710)},1892:function(t,e,r){"use strict";r(1711)},1893:function(t,e,r){"use strict";r(1712)},1949:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("login",{ref:"login",attrs:{"default-active-key":t.type},on:{submit:t.handleSubmit}},[e("tab",{key:"account",attrs:{tab:t.$t("userandlogin.login.tab-login-credentials")}},["error"!==t.status||"account"!==t.type||t.submitting?t._e():[e("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{message:t.$t("userandlogin.login.message-invalid-credentials"),type:"error","show-icon":""}})],t._v(" "),e("email",{attrs:{name:"email",rules:[{required:!0,message:t.$t("userandlogin.email.required")}]}}),t._v(" "),e("password",{attrs:{name:"password",rules:[{required:!0,message:t.$t("userandlogin.password.required")}],"on-press-enter":function(e){e.preventDefault(),t.form.validateFields(t.handleSubmit)}}})],2),t._v(" "),e("div"),t._v(" "),e("submit",{attrs:{loading:t.submitting}},[t._v("\n      "+t._s(t.$t("userandlogin.login.login"))+"\n    ")]),t._v(" "),e("div",{staticClass:"other"},[e("router-link",{staticClass:"register",attrs:{to:"/user/register"}},[t._v("\n        "+t._s(t.$t("userandlogin.login.signup"))+"\n      ")])],1)],1)],1)};s._withStripped=!0;var n=r(54),a=r.n(n),i=r(236),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[t.tabs.length>0?e("div",[e("a-tabs",{staticClass:"tabs",attrs:{animated:!1,"active-key":t.type},on:{change:t.onSwitch}},[e("v-nodes",{attrs:{value:t.children.tabChildren}})],1),t._v(" "),e("v-nodes",{attrs:{value:t.children.otherChildren}})],1):t._t("default")],2)],1)};o._withStripped=!0;var u=r(147),l=r.n(u),c={props:{defaultActiveKey:{type:String,default:""}},provide:function(){var t=this,e=this.tabs;return{loginContext:{tabUtil:{addTab:function(r){t.tabs=[].concat(l()(e),[r])},removeTab:function(r){t.tabs=e.filter((function(t){return t!==r}))}},form:this.form,updateActive:function(e){var r=t.type,s=t.active;s[r]?s[r].push(e):s[r]=[e]}}}},data:function(){return{type:this.defaultActiveKey,tabs:[],active:{}}},computed:{children:function(){var t=this.$slots.default,e=[],r=[];return t.forEach((function(t){t&&(t.componentOptions&&"LoginTab"===t.componentOptions.Ctor.extendOptions.typeName?e.push(t):r.push(t))})),{tabChildren:e,otherChildren:r}}},beforeCreate:function(){this.form=this.$form.createForm(this)},methods:{handleSubmit:function(t){var e=this;t.preventDefault();var r=this.type,s=this.form,n=this.active[r];s.validateFields(n,{force:!0},(function(t,r){e.$emit("submit",t,r)}))},onSwitch:function(t){this.type=t,this.$emit("tabChange",t)}}},p=r(15),d=Object(p.a)(c,o,[],!1,null,null,null).exports,m=function(){var t=this._self._c;return t("a-form-item",[t("a-button",{staticClass:"submit",attrs:{size:"large",type:"primary","html-type":"submit",loading:this.loading}},[this._t("default")],2)],1)};m._withStripped=!0;var f={props:{loading:Boolean}},h=(r(1889),Object(p.a)(f,m,[],!1,null,"008fcdf6",null).exports),g=function(){return(0,this._self._c)("a-tab-pane",this._b({},"a-tab-pane",this.$props,!1),[this._t("default")],2)};g._withStripped=!0;var v,b=(v=0,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""+t+(v+=1)}),_={typeName:"LoginTab",props:{active:Boolean,destroyInactiveTabPane:Boolean,rootPrefixCls:String,tab:String},inject:{loginContext:{default:function(){return{tabUtil:{}}}}},data:function(){return{uniqueId:b("login-tab-")}},mounted:function(){this.loginContext.tabUtil&&this.loginContext.tabUtil.addTab&&this.loginContext.tabUtil.addTab(this.uniqueId)}},w=Object(p.a)(_,g,[],!1,null,null,null).exports,C=r(1890),y=r.n(C),x=r(682);window.i18n=x.a;var S={UserName:{props:{size:"large",id:"userName",prefix:function(t){return t("a-icon",{attrs:{type:"user"},class:y.a.prefixIcon})},placeholder:"please enter userName"},rules:[{required:!0,message:"Please enter userName!"}]},Email:{props:{size:"large",id:"email",prefix:function(t){return t("a-icon",{attrs:{type:"mail"},class:y.a.prefixIcon})},placeholder:"please enter email"},rules:[{required:!0,message:"Please enter email!"}]},Password:{props:{size:"large",prefix:function(t){return t("a-icon",{attrs:{type:"lock"},class:y.a.prefixIcon})},type:"password",id:"password",placeholder:"Please enter password!"},rules:[{required:!0,message:"Please enter password!"}]},Mobile:{props:{size:"large",prefix:function(t){return t("a-icon",{attrs:{type:"mobile"},class:y.a.prefixIcon})},placeholder:"mobile number"},rules:[{required:!0,message:"Please enter mobile number!"},{pattern:/^1\d{10}$/,message:"Wrong mobile number format!"}]},Captcha:{props:{size:"large",prefix:function(t){return t("a-icon",{attrs:{type:"mail"},class:y.a.prefixIcon})},placeholder:"captcha"},rules:[{required:!0,message:"Please enter Captcha!"}]}},$=function(){var t=this,e=t._self._c;return"Captcha"===t.type?e("a-form-item",[e("a-row",{attrs:{gutter:8}},[e("a-col",{attrs:{span:16}},[e("a-input",t._b({directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,t.getFormItemOptions()],expression:"[name, getFormItemOptions()]"}]},"a-input",t.customprops,!1))],1),t._v(" "),e("a-col",{attrs:{span:8}},[e("a-button",{staticClass:"getCaptcha",attrs:{disabled:!!t.count,size:"large"},on:{click:t.handleClick}},[t._v("\n        "+t._s(t.count?t.count+" "+t.getCaptchaSecondText:t.getCaptchaButtonText)+"\n      ")])],1)],1)],1):e("a-form-item",[e("a-input",t._b({directives:[{name:"decorator",rawName:"v-decorator",value:[t.name,t.getFormItemOptions()],expression:"[name, getFormItemOptions()]"}]},"a-input",t.customprops,!1))],1)};$._withStripped=!0;var k={props:{defaultValue:String,rules:Array,updateActive:Function,form:Object,customprops:Object,name:String,placeholder:String,type:String,getCaptchaButtonText:{type:String,default:"captcha"},getCaptchaSecondText:{type:String,default:"second"},getCaptcha:Function,countDown:Number},data:function(){return{count:0}},mounted:function(){var t=this.$props,e=t.updateActive,r=t.name;e&&e(r)},beforeDestroy:function(){clearInterval(this.interval)},methods:{getFormItemOptions:function(){var t=this.$props,e=t.defaultValue,r=t.customprops,s={rules:t.rules||r.rules,onChange:this.handleChange};return e&&(s.initialValue=e),s},handleChange:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.$emit.apply(this,["change"].concat(l()(e)))},handleClick:function(){var t=this.$props.getCaptcha,e=t?t():null;!1!==e&&(e instanceof Promise?e.then(this.runGetCaptchaCountDown):this.runGetCaptchaCountDown())},runGetCaptchaCountDown:function(){var t=this,e=this.$props.countDown;this.count=e||59,this.interval=setInterval((function(){t.count-=1,0===t.count&&clearInterval(t.interval)}),1e3)}}},O=Object(p.a)(k,$,[],!1,null,null,null).exports,P={};Object.keys(S).forEach((function(t){var e=S[t];P[t]={props:{defaultValue:String,name:String,placeholder:String,rules:{type:Array,default:function(){return e.rules}},getCaptchaButtonText:String,getCaptchaSecondText:String,getCaptcha:Function,countDown:Number,customprops:{type:Object,default:function(){return e.props}},type:{type:String,default:t}},inject:{loginContext:{default:function(){return{form:{},updateActive:function(){}}}}},render:function(){var t=arguments[0],e=this.loginContext,r=e.form,s=e.updateActive,n=this.$props,i=this.$listeners;return t(O,{props:a()({},n,{form:r,updateActive:s}),on:i})}}}));var I=P;d.Tab=w,d.Submit=h,Object.keys(I).forEach((function(t){d[t]=I[t]}));var q=d,A=q.Tab,F=q.Email,j={components:{Login:q,Tab:A,Password:q.Password,Submit:q.Submit,Email:F},data:function(){return{type:"account",autoLogin:!0,submitting:!1,count:0,tabs:[]}},computed:a()({},Object(i.c)("userAndLogin",{status:function(t){return t.status}})),methods:a()({},Object(i.b)("userAndLogin",["login"]),{handleSubmit:function(t,e){var r=this,s=this.$data.type;t||(this.submitting=!0,this.login(a()({},e,{type:s})).then((function(){r.submitting=!1})))}})},T=(r(1891),Object(p.a)(j,s,[],!1,null,"c587c8ce",null));e.default=T.exports},1965:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("h3",[t._v("\n    "+t._s(t.$t("userandregister.register.register"))+"\n  ")]),t._v(" "),e("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[e("a-form-item",[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.formConfig.mail,expression:"formConfig.mail"}],attrs:{size:"large",placeholder:t.$t("userandregister.email.placeholder")}})],1),t._v(" "),e("a-form-item",{attrs:{help:t.help}},[e("a-popover",{attrs:{"get-popup-container":t.getPopupContainer,"overlay-style":{width:"240px"},placement:"right",visible:t.visible},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{padding:"4px 0"}},[e("temp-var",{attrs:{status:t.getPasswordStatus(),password:t.form.getFieldValue("password")},scopedSlots:t._u([{key:"default",fn:function(r){var s=r.status,n=r.password;return["ok"===s?e("div",{staticClass:"success"},[t._v("\n                  "+t._s(t.$t("userandregister.strength.strong"))+"\n                ")]):t._e(),t._v(" "),"pass"===s?e("div",{staticClass:"warning"},[t._v("\n                  "+t._s(t.$t("userandregister.strength.medium"))+"\n                ")]):t._e(),t._v(" "),"poor"===s?e("div",{staticClass:"error"},[t._v("\n                  "+t._s(t.$t("userandregister.strength.short"))+"\n                ")]):t._e(),t._v(" "),n&&n.length?e("div",{class:"progress-"+s},[e("a-progress",{staticClass:"progress",attrs:{status:t.passwordProgressMap[s],"stroke-width":6,percent:10*n.length>100?100:10*n.length,"show-info":!1}})],1):t._e()]}}])}),t._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[t._v("\n              "+t._s(t.$t("userandregister.strength.msg"))+"\n            ")])],1)]},proxy:!0}])},[t._v(" "),e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.formConfig.password,expression:"formConfig.password"}],attrs:{size:"large",type:"password",placeholder:t.$t("userandregister.password.placeholder")}})],1)],1),t._v(" "),e("a-form-item",[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:t.formConfig.confirm,expression:"formConfig.confirm"}],attrs:{size:"large",type:"password",placeholder:t.$t("userandregister.confirm-password.placeholder")}})],1),t._v(" "),e("a-form-item",[e("a-button",{staticClass:"submit",attrs:{size:"large",loading:t.submitting,type:"primary","html-type":"submit"}},[t._v("\n        "+t._s(t.$t("userandregister.register.register"))+"\n      ")]),t._v(" "),e("router-link",{staticClass:"login",attrs:{to:"/user/login"}},[t._v("\n        "+t._s(t.$t("userandregister.register.sign-in"))+"\n      ")])],1)],1)],1)};s._withStripped=!0;var n=r(54),a=r.n(n),i=r(236),o={data:function(){return this.interval=void 0,this.form=this.$form.createForm(this),{count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86",passwordProgressMap:{ok:"success",pass:"normal",poor:"exception"},formConfig:{mail:["mail",{rules:[{required:!0,message:this.$t("userandregister.email.required")},{type:"email",message:this.$t("userandregister.email.wrong-format")}]}],password:["password",{rules:[{validator:this.checkPassword}]}],confirm:["confirm",{rules:[{required:!0,message:this.$t("userandregister.confirm-password.required")},{validator:this.checkConfirm}]}]}}},computed:a()({},Object(i.c)({userAndregister:function(t){return t.userAndregister},submitting:function(t){return t.loading.effects["userAndregister/submit"]}})),updated:function(){var t=this.userAndregister,e=this.form.getFieldValue("mail");"ok"===t.status&&this.$router.push({path:"/user/register-result",query:{account:e}})},beforeDestroy:function(){clearInterval(this.interval)},methods:{getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onGetCaptcha:function(){var t=this,e=59;this.count=e,this.interval=window.setInterval((function(){e-=1,t.count=e,0===e&&clearInterval(t.interval)}),1e3)},getPasswordStatus:function(){var t=this.form.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields({force:!0},(function(t,r){t||e.$store.dispatch({type:"userAndregister/submit",payload:r})}))},checkConfirm:function(t,e,r){var s=this.form;e&&e!==s.getFieldValue("password")?r(this.$t("userandregister.password.twice")):r()},checkPassword:function(t,e,r){var s=this.visible,n=this.confirmDirty;if(e)if(this.help="",s||(this.visible=!!e),e.length<6)r("error");else{var a=this.form;e&&n&&a.validateFields(["confirm"],{force:!0}),r()}else this.help=this.$t("userandregister.password.required"),this.visible=!!e,r("error")},changePrefix:function(t){this.prefix=t}}},u=(r(1892),r(15)),l=Object(u.a)(o,s,[],!1,null,"b4c24d60",null);e.default=l.exports},1966:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"registerResult"},[e("div",[t._v("\n    "+t._s(t.$t("userandregister-result.register-result.msg",{email:t.account}))+"\n  ")]),t._v(" "),e("div",[t._v("\n    "+t._s(t.$t("userandregister-result.register-result.activation-email"))+"\n  ")]),t._v(" "),e("div",{staticClass:"actions"},[e("router-link",{attrs:{to:"/"}},[e("a-button",{attrs:{size:"large"}},[t._v("\n        "+t._s(t.$t("userandregister-result.register-result.back-home"))+"\n      ")])],1)],1)])};s._withStripped=!0;var n={data:function(){return{account:""}},created:function(){this.account=this.$route.query.account}},a=(r(1893),r(15)),i=Object(a.a)(n,s,[],!1,null,"623488d3",null);e.default=i.exports}}]);